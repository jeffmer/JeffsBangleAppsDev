var FACES=[],curface=0;require("Storage").list(/\.face\.js$/).forEach(function(a){return FACES.push(eval(require("Storage").read(a)))});var face=FACES[curface](),intervalRefSec;function stopdraw(){intervalRefSec&&clearInterval(intervalRefSec)}function startdraw(){g.clear();g.reset();Bangle.drawWidgets();face.init();intervalRefSec=setInterval(face.update,1E3)}function getFace(a){curface+=a;curface=2<curface?0:0>curface?2:curface;stopdraw();face=faces[curface]();startdraw()}
function setButtons(){function a(a){var b=FACES.length-1;curface+=a;curface=curface>b?0:0>curface?b:curface;stopdraw();face=FACES[curface]();startdraw()}setWatch(Bangle.showLauncher,BTN2,{repeat:!1,edge:"falling"});setWatch(function(){a(1)},BTN1,{repeat:!0,edge:"rising"});setWatch(function(){a(-1)},BTN3,{repeat:!0,edge:"rising"})}var SCREENACCESS={withApp:!0,request:function(){this.withApp=!1;stopdraw();clearWatch()},release:function(){this.withApp=!0;startdraw();setButtons()}};
Bangle.on("lcdPower",function(a){SCREENACCESS.withApp&&(a?startdraw():stopdraw())});g.clear();Bangle.loadWidgets();startdraw();setButtons();