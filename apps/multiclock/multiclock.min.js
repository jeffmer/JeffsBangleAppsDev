function getDigital(){function a(){b.clear();b.setColor(1);var a=new Date,k=a.toString().split(" ")[4];b.setFont("Vector",42);b.setFontAlign(0,-1);b.drawString(k,b.getWidth()/2,0);b.setFont("6x8",2);b.setFontAlign(0,-1);a=a.toString().substr(0,15);b.drawString(a,b.getWidth()/2,70);g.setColor(1,1,1);g.drawImage({width:b.getWidth(),height:b.getHeight(),buffer:b.buffer},0,85)}var b=Graphics.createArrayBuffer(240,92,1,{msb:!0});return{init:a,update:a}}
function getBig(){function a(b){var a=b.toString().split(" ")[4].substr(0,5).split(":");b=a[0];a=a[1];g.clearRect(0,24,239,239);g.setColor(1,1,1);g.setFont("Vector",100);g.drawString(b,50,24,!0);g.drawString(a,50,135,!0)}return{init:function(){a(new Date)},update:function(){var b=new Date;0===b.getSeconds()&&a(b)}}}
function getAnalogue(){function a(a,b,c,d){a*=k;g.fillPoly([120+Math.sin(a)*b,134-Math.cos(a)*b,120+Math.sin(a+e)*d,134-Math.cos(a+e)*d,120+Math.sin(a)*c,134-Math.cos(a)*c,120+Math.sin(a-e)*d,134-Math.cos(a-e)*d])}function b(){g.setColor(0,0,0);a(360*h.getSeconds()/60,-5,90,3);0===h.getSeconds()&&(a(360*(f.getHours()+f.getMinutes()/60)/12,-16,60,7),a(360*f.getMinutes()/60,-16,86,7),f=new Date);g.setColor(1,1,1);a(360*(f.getHours()+f.getMinutes()/60)/12,-16,60,7);a(360*f.getMinutes()/60,-16,86,7);
g.setColor(0,1,1);h=new Date;a(360*h.getSeconds()/60,-5,90,3);g.setColor(0,0,0);g.fillCircle(120,134,2)}var e=Math.PI/2,k=Math.PI/180,f,h;return{init:function(){h=f=new Date;g.setColor(1,1,1);for(var a=0;60>a;a++){var e=360*a/60,c=e*k,d=120+100*Math.sin(c);c=134-100*Math.cos(c);0==e%90?(g.setColor(0,1,1),g.fillRect(d-6,c-6,d+6,c+6)):0==e%30?(g.setColor(0,1,1),g.fillRect(d-4,c-4,d+4,c+4)):(g.setColor(1,1,1),g.fillRect(d-1,c-1,d+1,c+1))}b()},update:b}}
var curface=0,faces=[getBig,getAnalogue,getDigital],face=faces[curface](),intervalRefSec;function stopdraw(){intervalRefSec&&clearInterval(intervalRefSec)}function startdraw(){g.clear();g.reset();Bangle.drawWidgets();face.init();intervalRefSec=setInterval(face.update,1E3)}
function setButtons(){function a(a){curface+=a;curface=2<curface?0:0>curface?2:curface;stopdraw();face=faces[curface]();startdraw()}setWatch(Bangle.showLauncher,BTN2,{repeat:!1,edge:"falling"});setWatch(function(){a(1)},BTN1,{repeat:!0,edge:"rising"});setWatch(function(){a(-1)},BTN3,{repeat:!0,edge:"rising"})}var SCREENACCESS={withApp:!0,request:function(){this.withApp=!1;stopdraw();clearWatch()},release:function(){this.withApp=!0;startdraw();setButtons()}};
Bangle.on("lcdPower",function(a){SCREENACCESS.withApp&&(a?startdraw():stopdraw())});g.clear();Bangle.setLCDBrightness(1);Bangle.loadWidgets();startdraw();setButtons();
